# ุฏููู ุงููุดุฑ ุนูู Render - IQR Control System

## โ ุงูุญุงูุฉ ุงูุญุงููุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูููุน**: Neon PostgreSQL
- **ุงูุญุงูุฉ**: โ ูุชุตูุฉ ูููุญุฏููุซุฉ ุจุงููุงูู
- **ุงูุฌุฏุงูู**: 
  - โ users (ุงููุณุชุฎุฏููู)
  - โ customers (ุงูุนููุงุก)
  - โ income_entries (ุงูุฅุฏุฎุงูุงุช) - **ูุน is_down_payment ู total_amount**
  - โ expense_entries (ุงูุฅุฎุฑุงุฌุงุช)
  - โ employees (ุงูููุธููู)
  - โ receivables (ุงููุณุชุญูุงุช)
  - โ activities (ุงูุฃูุดุทุฉ)
  - โ session (ุงูุฌูุณุงุช)

### ุงูุชุทุจูู ุงููุญูู (Replit)
- **ุงูุญุงูุฉ**: โ ูุนูู ุจุดูู ุตุญูุญ
- **ุงููููุฐ**: 5000
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ููุฒุงููุฉ ุจุงููุงูู

---

## ๐ ุฎุทูุงุช ุงููุดุฑ ุนูู Render

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ูุงุนุฏุฉ ุจูุงูุงุช Render

ูุฌุจ ุชุดุบูู ุงูุฃูุฑ ุงูุชุงูู ุนูู Render ูุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

#### ุงูุทุฑููุฉ ุฃ: ุงุณุชุฎุฏุงู Render Shell
1. ุงูุชุญ **Render Dashboard**: https://dashboard.render.com
2. ุงุฎุชุฑ **Web Service** ุงูุฎุงุต ุจู
3. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุถุบุท ุนูู **"Shell"**
4. ุดุบูู ุงูุฃูุฑ:
```bash
npm run db:push -- --force
```

#### ุงูุทุฑููุฉ ุจ: ุชุดุบูู SQL ูุจุงุดุฑุฉ
ุฅุฐุง ูู ุชุนูู ุงูุทุฑููุฉ ุฃุ ููููู ุชุดุบูู SQL ูุจุงุดุฑุฉ:

1. ุงูุชุญ **PostgreSQL Database** ูู Render
2. ุงุถุบุท ุนูู **"Connect"** ูุงุฎุชุฑ **"External Connection"**
3. ุงุณุชุฎุฏู psql ุฃู ุฃู ุฃุฏุงุฉ SQL client:

```sql
-- ุฅุถุงูุฉ ุงูุฃุนูุฏุฉ ุงูููููุฏุฉ
ALTER TABLE income_entries 
ADD COLUMN IF NOT EXISTS is_down_payment BOOLEAN DEFAULT false;

ALTER TABLE income_entries 
ADD COLUMN IF NOT EXISTS total_amount NUMERIC(10,2);

-- ุฅูุดุงุก ุฌุฏูู ุงููุณุชุญูุงุช ุฅุฐุง ูู ููู ููุฌูุฏุงู
CREATE TABLE IF NOT EXISTS receivables (
  id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),
  income_entry_id VARCHAR REFERENCES income_entries(id),
  customer_id VARCHAR REFERENCES customers(id),
  customer_name TEXT NOT NULL,
  total_amount DECIMAL(10,2) NOT NULL,
  paid_amount DECIMAL(10,2) NOT NULL,
  remaining_amount DECIMAL(10,2) NOT NULL,
  is_paid BOOLEAN DEFAULT false,
  description TEXT,
  created_at TIMESTAMP DEFAULT now(),
  paid_at TIMESTAMP
);
```

### ุงูุฎุทูุฉ 2: ุฅุนุงุฏุฉ ุงููุดุฑ

ุจุนุฏ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
1. ุงุฑุฌุน ุฅูู Render Dashboard
2. ุงุถุบุท ุนูู **"Manual Deploy"** > **"Deploy latest commit"**
3. ุงูุชุธุฑ ุญุชู ููุชูู ุงููุดุฑ

### ุงูุฎุทูุฉ 3: ุงูุชุญูู

ุจุนุฏ ุงูุชูุงู ุงููุดุฑ:
1. ุงูุชุญ ูููุนู ุนูู Render
2. ุณุฌู ุงูุฏุฎูู:
   - **ุงุณู ุงููุณุชุฎุฏู**: admin
   - **ูููุฉ ุงููุฑูุฑ**: admin123
3. ุฌุฑุจ ุฅุถุงูุฉ ุฅุฏุฎุงู ุฌุฏูุฏ ูุน ุนุฑุจูู

---

## ๐ง ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ ุนูู Render

ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ุงูุชุงููุฉ ูู Render:

```env
DATABASE_URL=<ุฑุงุจุท ูุงุนุฏุฉ ุจูุงูุงุช Neon>
SESSION_SECRET=<ุณุฑ ุนุดูุงุฆู ููู>
NODE_ENV=production
PORT=5000
```

---

## ๐ ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฑุงุจุท Neon ุงูุญุงูู
```
postgresql://neondb_owner:npg_j0uJzebEPgs4@ep-lively-pine-adpu1pz9-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require
```

### ูููู ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

#### income_entries (ุฌุฏูู ุงูุฅุฏุฎุงูุงุช)
- `id` - ูุนุฑูู ูุฑูุฏ
- `customer_id` - ูุนุฑูู ุงูุนููู
- `type` - ููุน ุงูุฅุฏุฎุงู (prints/subscription)
- `print_type` - ููุน ุงููุทุจูุนุงุช (ุฅุฐุง ูุงู prints)
- `amount` - ุงููุจูุบ ุงููุฏููุน
- **`is_down_payment`** - ูู ูู ุนุฑุจูู (โ ุชู ุฅุถุงูุชู)
- **`total_amount`** - ุงููุจูุบ ุงููุงูู ููุนุฑุจูู (โ ุชู ุฅุถุงูุชู)
- `receipt_url` - ุฑุงุจุท ุงูุฅูุตุงู
- `description` - ูุตู
- `created_at` - ุชุงุฑูุฎ ุงูุฅูุดุงุก

#### receivables (ุฌุฏูู ุงููุณุชุญูุงุช)
- `id` - ูุนุฑูู ูุฑูุฏ
- `income_entry_id` - ูุนุฑูู ุงูุฅุฏุฎุงู ุงููุฑุชุจุท
- `customer_id` - ูุนุฑูู ุงูุนููู
- `customer_name` - ุงุณู ุงูุนููู
- `total_amount` - ุงููุจูุบ ุงููุงูู
- `paid_amount` - ุงููุจูุบ ุงููุฏููุน
- `remaining_amount` - ุงููุจูุบ ุงููุชุจูู
- `is_paid` - ูู ุชู ุงูุชุณุฏูุฏ
- `created_at` - ุชุงุฑูุฎ ุงูุฅูุดุงุก
- `paid_at` - ุชุงุฑูุฎ ุงูุชุณุฏูุฏ

---

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: "column is_down_payment does not exist"
**ุงูุญู**: ูู ุจุชุดุบูู `npm run db:push -- --force` ุนูู Render Shell

### ูุดููุฉ: ุงููููุน ูุง ูุณุชุฌูุจ
**ุงูุญู**: ุชุญูู ูู:
1. ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู Render Dashboard
2. Logs ูู Render ููุนุฑูุฉ ุงูุฎุทุฃ
3. ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุตุญูุญุฉ

### ูุดููุฉ: ูุง ูููู ุชุณุฌูู ุงูุฏุฎูู
**ุงูุญู**: 
- ุงุณุชุฎุฏู: admin / admin123
- ุฅุฐุง ูู ูุนููุ ูุฏ ุชุญุชุงุฌ ูุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ ูู Shell

---

## โ ุงูุชุญูู ุงูููุงุฆู

ุจุนุฏ ุงููุดุฑุ ุชุฃูุฏ ูู:
- [ ] ูููู ุชุณุฌูู ุงูุฏุฎูู
- [ ] ูููู ุฅุถุงูุฉ ุนููุงุก
- [ ] ูููู ุฅุถุงูุฉ ุฅุฏุฎุงูุงุช ุนุงุฏูุฉ
- [ ] ูููู ุฅุถุงูุฉ ุฅุฏุฎุงูุงุช ุจุนุฑุจูู
- [ ] ุงููุณุชุญูุงุช ุชุธูุฑ ุจุดูู ุตุญูุญ
- [ ] ุงูุชูุงุฑูุฑ ุชุนูู

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุชุญูู ูู Logs ูู Render Dashboard
2. ุชุญูู ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุฃูุฏ ูู ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงูุฃูุงูุฑ ุฃุนูุงู
